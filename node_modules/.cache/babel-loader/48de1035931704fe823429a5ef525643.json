{"ast":null,"code":"var _jsxFileName = \"/Users/nelson/Desktop/test react/crudapirestsencillo/src/App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\nconst url = \"https://api.airtable.com/v0/appOg91JwIs4SjRSR/Phonebook?api_key=keyE2G3crULpLFifV\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: [],\n      modalInsertar: false,\n      modalEliminar: false,\n      fields: {\n        id: '',\n        name: '',\n        email: '',\n        telephone: '',\n        address: ''\n      }\n    };\n\n    this.peticionGet = () => {\n      axios.get(url).then(response => {\n        this.setState({\n          data: response.data.records\n        });\n        console.log(response.data.records);\n      }).catch(error => {\n        console.log(error.message);\n      });\n    };\n\n    this.peticionPost = async () => {\n      delete this.state.fields.id;\n      let a = this.state.fields;\n      let data = {\n        a\n      };\n      await axios.post(url, this.state.data).then(response => {\n        this.modalInsertar();\n        this.peticionGet();\n      }).catch(error => {\n        console.log(error.message);\n      });\n    };\n\n    this.peticionPut = () => {\n      axios.put(url + this.state.fields.id, this.state.fields).then(response => {\n        this.modalInsertar();\n        this.peticionGet();\n      });\n    };\n\n    this.peticionDelete = () => {\n      axios.delete(url + this.state.fields.id).then(response => {\n        this.setState({\n          modalEliminar: false\n        });\n        this.peticionGet();\n      });\n    };\n\n    this.modalInsertar = () => {\n      this.setState({\n        modalInsertar: !this.state.modalInsertar\n      });\n    };\n\n    this.seleccionarEmpresa = empresa => {\n      this.setState({\n        tipoModal: 'actualizar',\n        fields: {\n          id: empresa.id,\n          name: empresa.fields.name,\n          email: empresa.fields.email,\n          telephone: empresa.fields.telephone,\n          address: empresa.fields.address\n        }\n      });\n    };\n\n    this.handleChange = async e => {\n      e.persist();\n      await this.setState({\n        fields: { ...this.state.fields,\n          [e.target.name]: e.target.value\n        }\n      }); //console.log(this.state.fields);\n    };\n  }\n\n  componentDidMount() {\n    this.peticionGet();\n  }\n\n  render() {\n    const {\n      fields\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: () => {\n        this.setState({\n          fields: null,\n          tipoModal: 'insertar'\n        });\n        this.modalInsertar();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 3\n      }\n    }, \"Agregar Empresa\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, \"Phone\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }\n    }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }\n    }, \"Acciones\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }\n    }, this.state.data.map(empresa => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }\n      }, empresa.fields.name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }\n      }, empresa.fields.email), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }\n      }, empresa.fields.telephone), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }\n      }, empresa.fields.address), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: () => {\n          this.seleccionarEmpresa(empresa);\n          this.modalInsertar();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faEdit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 124\n        }\n      })), \"   \", /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-danger\",\n        onClick: () => {\n          this.seleccionarEmpresa(empresa);\n          this.setState({\n            modalEliminar: true\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faTrashAlt,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 139\n        }\n      }))));\n    }))), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.modalInsertar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      style: {\n        display: 'block'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        float: 'right'\n      },\n      onClick: () => this.modalInsertar(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 19\n      }\n    }, \"x\")), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fields-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"nombre\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"fields-control\",\n      type: \"text\",\n      name: \"name\",\n      id: \"nombre\",\n      onChange: this.handleChange,\n      value: fields ? fields.name : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"nombre\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"fields-control\",\n      type: \"text\",\n      name: \"email\",\n      id: \"pais\",\n      onChange: this.handleChange,\n      value: fields ? fields.email : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"capital_bursatil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }, \"Phone\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"fields-control\",\n      type: \"text\",\n      name: \"telephone\",\n      id: \"capital_bursatil\",\n      onChange: this.handleChange,\n      value: fields ? fields.telephone : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"capital_bursatil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }, \"Address\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"fields-control\",\n      type: \"text\",\n      name: \"address\",\n      id: \"capital_bursatil\",\n      onChange: this.handleChange,\n      value: fields ? fields.address : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(ModalFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }\n    }, this.state.tipoModal == 'insertar' ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: () => this.peticionPost(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }, \"Insertar\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => this.peticionPut(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 30\n      }\n    }, \"Actualizar\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => this.modalInsertar(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 21\n      }\n    }, \"Cancelar\"))), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.modalEliminar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    }, \"Est\\xE1s seguro que deseas eliminar a la empresa \", fields && fields.nombre), /*#__PURE__*/React.createElement(ModalFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => this.peticionDelete(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }\n    }, \"S\\xED\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-secundary\",\n      onClick: () => this.setState({\n        modalEliminar: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 15\n      }\n    }, \"No\"))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/nelson/Desktop/test react/crudapirestsencillo/src/App.js"],"names":["React","Component","axios","FontAwesomeIcon","faEdit","faTrashAlt","Modal","ModalBody","ModalFooter","ModalHeader","url","App","state","data","modalInsertar","modalEliminar","fields","id","name","email","telephone","address","peticionGet","get","then","response","setState","records","console","log","catch","error","message","peticionPost","a","post","peticionPut","put","peticionDelete","delete","seleccionarEmpresa","empresa","tipoModal","handleChange","e","persist","target","value","componentDidMount","render","map","display","float","nombre"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\n\nconst url=\"https://api.airtable.com/v0/appOg91JwIs4SjRSR/Phonebook?api_key=keyE2G3crULpLFifV\";\n\nclass App extends Component {\nstate={\n  data:[],\n  modalInsertar: false,\n  modalEliminar: false,\n  fields:{\n    id: '',\n    name: '',\n    email: '',\n    telephone: '',\n    address: ''\n  }\n}\n\npeticionGet=()=>{\naxios.get(url).then(response=>{\n  this.setState({data: response.data.records});\n  console.log(response.data.records);\n}).catch(error=>{\n  console.log(error.message);\n})\n}\n\npeticionPost=async()=>{\n  delete this.state.fields.id;\n  let a = this.state.fields;\n  let data = {\n    a\n  }\n await axios.post(url,this.state.data).then(response=>{\n    this.modalInsertar();\n    this.peticionGet();\n  }).catch(error=>{\n    console.log(error.message);\n  })\n}\n\npeticionPut=()=>{\n  axios.put(url+this.state.fields.id, this.state.fields).then(response=>{\n    this.modalInsertar();\n    this.peticionGet();\n  })\n}\n\npeticionDelete=()=>{\n  axios.delete(url+this.state.fields.id).then(response=>{\n    this.setState({modalEliminar: false});\n    this.peticionGet();\n  })\n}\n\nmodalInsertar=()=>{\n  this.setState({modalInsertar: !this.state.modalInsertar});\n}\n\nseleccionarEmpresa=(empresa)=>{\n  this.setState({\n    tipoModal: 'actualizar',\n    fields: {\n      id: empresa.id,\n      name: empresa.fields.name,\n      email: empresa.fields.email,\n      telephone: empresa.fields.telephone,\n      address: empresa.fields.address\n    }\n  })\n}\n\nhandleChange=async e=>{\ne.persist();\nawait this.setState({\n  fields:{\n    ...this.state.fields,\n    [e.target.name]: e.target.value\n  }\n});\n//console.log(this.state.fields);\n}\n\n  componentDidMount() {\n    this.peticionGet();\n  }\n  \n\n  render(){\n    const {fields}=this.state;\n  return (\n    <div className=\"App\">\n    <br /><br /><br />\n  <button className=\"btn btn-success\" onClick={()=>{this.setState({fields: null, tipoModal: 'insertar'}); this.modalInsertar()}}>Agregar Empresa</button>\n  <br /><br />\n    <table className=\"table \">\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Email</th>\n          <th>Phone</th>\n          <th>Address</th>\n          <th>Acciones</th>\n        </tr>\n      </thead>\n      <tbody>\n        {this.state.data.map(empresa=>{\n          return(\n            <tr>\n          <td>{empresa.fields.name}</td>\n          <td>{empresa.fields.email}</td>\n          <td>{empresa.fields.telephone}</td>\n          <td>{empresa.fields.address}</td>\n          <td>\n                <button className=\"btn btn-primary\" onClick={()=>{this.seleccionarEmpresa(empresa); this.modalInsertar()}}><FontAwesomeIcon icon={faEdit}/></button>\n                {\"   \"}\n                <button className=\"btn btn-danger\" onClick={()=>{this.seleccionarEmpresa(empresa); this.setState({modalEliminar: true})}}><FontAwesomeIcon icon={faTrashAlt}/></button>\n                </td>\n          </tr>\n          )\n        })}\n      </tbody>\n    </table>\n\n\n\n    <Modal isOpen={this.state.modalInsertar}>\n                <ModalHeader style={{display: 'block'}}>\n                  <span style={{float: 'right'}} onClick={()=>this.modalInsertar()}>x</span>\n                </ModalHeader>\n                <ModalBody>\n                  <div className=\"fields-group\">\n                    \n                    <br />\n                    <label htmlFor=\"nombre\">Name</label>\n                    <input className=\"fields-control\" type=\"text\" name=\"name\" id=\"nombre\" onChange={this.handleChange} value={fields?fields.name: ''}/>\n                    <br />\n                    <label htmlFor=\"nombre\">Email</label>\n                    <input className=\"fields-control\" type=\"text\" name=\"email\" id=\"pais\" onChange={this.handleChange} value={fields?fields.email: ''}/>\n                    <br />\n                    <label htmlFor=\"capital_bursatil\">Phone</label>\n                    <input className=\"fields-control\" type=\"text\" name=\"telephone\" id=\"capital_bursatil\" onChange={this.handleChange} value={fields?fields.telephone: ''}/>\n                    <br />\n                    <label htmlFor=\"capital_bursatil\">Address</label>\n                    <input className=\"fields-control\" type=\"text\" name=\"address\" id=\"capital_bursatil\" onChange={this.handleChange} value={fields?fields.address: ''}/>                  \n                  </div>\n                </ModalBody>\n\n                <ModalFooter>\n                  {this.state.tipoModal=='insertar'?\n                    <button className=\"btn btn-success\" onClick={()=>this.peticionPost()}>\n                    Insertar\n                  </button>: <button className=\"btn btn-primary\" onClick={()=>this.peticionPut()}>\n                    Actualizar\n                  </button>\n  }\n                    <button className=\"btn btn-danger\" onClick={()=>this.modalInsertar()}>Cancelar</button>\n                </ModalFooter>\n          </Modal>\n\n\n          <Modal isOpen={this.state.modalEliminar}>\n            <ModalBody>\n               Estás seguro que deseas eliminar a la empresa {fields && fields.nombre}\n            </ModalBody>\n            <ModalFooter>\n              <button className=\"btn btn-danger\" onClick={()=>this.peticionDelete()}>Sí</button>\n              <button className=\"btn btn-secundary\" onClick={()=>this.setState({modalEliminar: false})}>No</button>\n            </ModalFooter>\n          </Modal>\n  </div>\n\n\n\n  );\n}\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}