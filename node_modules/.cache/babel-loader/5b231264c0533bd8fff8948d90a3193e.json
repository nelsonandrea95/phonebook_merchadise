{"ast":null,"code":"var _jsxFileName = \"/Users/nelson/Desktop/test react/crudapirestsencillo/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport logo from './logo.png';\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\nconst url = \"https://api.airtable.com/v0/appOg91JwIs4SjRSR/Phonebook?api_key=keyE2G3crULpLFifV\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: [],\n      modalInsert: false,\n      modalDelete: false,\n      form: {\n        id: '',\n        name: '',\n        email: '',\n        telephone: '',\n        address: ''\n      }\n    };\n\n    this.getRequest = () => {\n      axios.get(url).then(response => {\n        this.setState({\n          data: response.data.records\n        });\n        console.log(response.data.records);\n      }).catch(error => {\n        console.log(error.message);\n      });\n    };\n\n    this.postRequest = async () => {\n      delete this.state.form.id;\n      let records = {\n        fields: {\n          name: this.state.form.name,\n          email: this.state.form.email,\n          telephone: this.state.form.telephone,\n          address: this.state.form.address\n        }\n      };\n      console.log(records);\n      await axios.post(url, records).then(response => {\n        this.modalInsert();\n        this.getRequest();\n      }).catch(error => {\n        console.log(error.message);\n      });\n    };\n\n    this.patchRequest = () => {\n      let records = {\n        records: [{\n          id: this.state.form.id,\n          fields: {\n            name: this.state.form.name,\n            email: this.state.form.email,\n            telephone: this.state.form.telephone,\n            address: this.state.form.address\n          }\n        }]\n      };\n      console.log(records);\n      axios.patch(url, records).then(response => {\n        this.modalInsert();\n        this.getRequest();\n      });\n    };\n\n    this.deleteRequest = () => {\n      axios.delete('https://api.airtable.com/v0/appOg91JwIs4SjRSR/Phonebook/' + this.state.form.id + '?api_key=keyE2G3crULpLFifV').then(response => {\n        this.setState({\n          modalDelete: false\n        });\n        this.getRequest();\n      });\n    };\n\n    this.modalInsert = () => {\n      this.setState({\n        modalInsert: !this.state.modalInsert\n      });\n    };\n\n    this.selectItem = item => {\n      this.setState({\n        tipoModal: 'actualizar',\n        form: {\n          id: item.id,\n          name: item.fields.name,\n          email: item.fields.email,\n          telephone: item.fields.telephone,\n          address: item.fields.address\n        }\n      });\n    };\n\n    this.handleChange = async e => {\n      e.persist();\n      await this.setState({\n        form: { ...this.state.form,\n          [e.target.name]: e.target.value\n        }\n      });\n      console.log(this.state.form);\n    };\n  }\n\n  componentDidMount() {\n    this.getRequest();\n  }\n\n  render() {\n    const {\n      form\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: logo,\n      alt: \"Logo\",\n      className: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }, \"Phonebook\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn add-new\",\n      onClick: () => {\n        this.setState({\n          form: null,\n          tipoModal: 'insertar'\n        });\n        this.modalInsert();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    }, \"Add new\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, \"Phone\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, \"Acciones\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }, this.state.data.map(item => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }\n      }, item.fields.name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }\n      }, item.fields.email), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }\n      }, item.fields.telephone), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }\n      }, item.fields.address), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: () => {\n          this.selectItem(item);\n          this.modalInsert();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faEdit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 115\n        }\n      })), \"   \", /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-danger\",\n        onClick: () => {\n          this.selectItem(item);\n          this.setState({\n            modalDelete: true\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faTrashAlt,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 130\n        }\n      }))));\n    })))), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.modalInsert,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      style: {\n        display: 'block'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        float: 'right'\n      },\n      onClick: () => this.modalInsert(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }\n    }, \"x\"), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 13\n      }\n    }, form ? 'Edit record' : 'Add new record')), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"nombre\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      name: \"name\",\n      id: \"nombre\",\n      onChange: this.handleChange,\n      value: form ? form.name : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"nombre\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 13\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      name: \"email\",\n      id: \"pais\",\n      onChange: this.handleChange,\n      value: form ? form.email : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"capital_bursatil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }\n    }, \"Phone\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      name: \"telephone\",\n      id: \"capital_bursatil\",\n      onChange: this.handleChange,\n      value: form ? form.telephone : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"capital_bursatil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 13\n      }\n    }, \"Address\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      name: \"address\",\n      id: \"capital_bursatil\",\n      onChange: this.handleChange,\n      value: form ? form.address : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(ModalFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }\n    }, this.state.tipoModal == 'insertar' ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: () => this.postRequest(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 13\n      }\n    }, \"Add\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => this.patchRequest(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 24\n      }\n    }, \"Update\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => this.modalInsert(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 13\n      }\n    }, \"Cancel\"))), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.modalDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }\n    }, \"Are you sure you want to delete contact \", form && form.name, \"?\"), /*#__PURE__*/React.createElement(ModalFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => this.deleteRequest(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }\n    }, \"Yes\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-secundary\",\n      onClick: () => this.setState({\n        modalDelete: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 13\n      }\n    }, \"No\"))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/nelson/Desktop/test react/crudapirestsencillo/src/App.js"],"names":["React","Component","logo","axios","FontAwesomeIcon","faEdit","faTrashAlt","Modal","ModalBody","ModalFooter","ModalHeader","url","App","state","data","modalInsert","modalDelete","form","id","name","email","telephone","address","getRequest","get","then","response","setState","records","console","log","catch","error","message","postRequest","fields","post","patchRequest","patch","deleteRequest","delete","selectItem","item","tipoModal","handleChange","e","persist","target","value","componentDidMount","render","map","display","float"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport logo from './logo.png';\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\n\nconst url=\"https://api.airtable.com/v0/appOg91JwIs4SjRSR/Phonebook?api_key=keyE2G3crULpLFifV\";\n\nclass App extends Component {\n  state={\n    data:[],\n    modalInsert: false,\n    modalDelete: false,\n    form:{\n      id: '',\n      name: '',\n      email: '',\n      telephone: '',\n      address: ''\n    }\n  }\n\n  getRequest=()=>{\n    axios.get(url).then(response=>{\n      this.setState({data: response.data.records});\n      console.log(response.data.records);\n    }).catch(error=>{\n      console.log(error.message);\n    })\n  }\n\n  postRequest=async()=>{\n    delete this.state.form.id;\n    let records ={\n      fields:{\n        name: this.state.form.name,\n        email: this.state.form.email,\n        telephone: this.state.form.telephone,\n        address: this.state.form.address\n      }\n    }\n    console.log(records);\n    await axios.post(url,records).then(response=>{\n      this.modalInsert();\n      this.getRequest();\n    }).catch(error=>{\n      console.log(error.message);\n    })\n  }\n\n  patchRequest=()=>{\n    let records ={\n      records: [\n        {\n          id: this.state.form.id,\n          fields:{\n            name: this.state.form.name,\n            email: this.state.form.email,\n            telephone: this.state.form.telephone,\n            address: this.state.form.address\n          }\n        } \n      ]\n    }\n    console.log(records);\n    axios.patch(url, records).then(response=>{\n      this.modalInsert();\n      this.getRequest();\n    })\n  }\n\n  deleteRequest=()=>{\n    axios.delete('https://api.airtable.com/v0/appOg91JwIs4SjRSR/Phonebook/'+this.state.form.id+'?api_key=keyE2G3crULpLFifV').then(response=>{\n      this.setState({modalDelete: false});\n      this.getRequest();\n    })\n  }\n\n  modalInsert=()=>{\n    this.setState({modalInsert: !this.state.modalInsert});\n  }\n\n  selectItem=(item)=>{\n    this.setState({\n      tipoModal: 'actualizar',\n      form: {\n        id: item.id,\n        name: item.fields.name,\n        email: item.fields.email,\n        telephone: item.fields.telephone,\n        address: item.fields.address\n      }\n    })\n  }\n\n  handleChange=async e=>{\n  e.persist();\n  await this.setState({\n    form:{\n      ...this.state.form,\n      [e.target.name]: e.target.value\n    }\n  });\n  console.log(this.state.form);\n  }\n\n  componentDidMount() {\n    this.getRequest();\n  }\n    \n\n  render(){\n    const {form}=this.state;\n    return (\n      <div className=\"App\">\n        <img src={logo} alt=\"Logo\" className=\"logo\" />\n        <div className=\"header-container\">\n          <h1>Phonebook</h1>\n          <button className=\"btn add-new\" onClick={()=>{this.setState({form: null, tipoModal: 'insertar'}); this.modalInsert()}}>Add new</button>\n        </div>\n        <div className=\"table-container\">\n          <table className=\"table \">\n            <thead>\n              <tr>\n                <th>Name</th>\n                <th>Email</th>\n                <th>Phone</th>\n                <th>Address</th>\n                <th>Acciones</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.data.map(item=>{\n                return(\n                  <tr>\n                    <td>{item.fields.name}</td>\n                    <td>{item.fields.email}</td>\n                    <td>{item.fields.telephone}</td>\n                    <td>{item.fields.address}</td>\n                    <td>\n                    <button className=\"btn btn-primary\" onClick={()=>{this.selectItem(item); this.modalInsert()}}><FontAwesomeIcon icon={faEdit}/></button>\n                    {\"   \"}\n                    <button className=\"btn btn-danger\" onClick={()=>{this.selectItem(item); this.setState({modalDelete: true})}}><FontAwesomeIcon icon={faTrashAlt}/></button>\n                    </td>\n                  </tr>\n                )\n              })}\n            </tbody>\n          </table>\n        </div>\n\n\n        <Modal isOpen={this.state.modalInsert}>\n          <ModalHeader style={{display: 'block'}}>\n            <span style={{float: 'right'}} onClick={()=>this.modalInsert()}>x</span>\n            <h3>{form?'Edit record': 'Add new record'}</h3>\n          </ModalHeader>\n          <ModalBody>\n            <div className=\"form-group\">\n\n            <br />\n            <label htmlFor=\"nombre\">Name</label>\n            <input className=\"form-control\" type=\"text\" name=\"name\" id=\"nombre\" onChange={this.handleChange} value={form?form.name: ''}/>\n            <br />\n            <label htmlFor=\"nombre\">Email</label>\n            <input className=\"form-control\" type=\"text\" name=\"email\" id=\"pais\" onChange={this.handleChange} value={form?form.email: ''}/>\n            <br />\n            <label htmlFor=\"capital_bursatil\">Phone</label>\n            <input className=\"form-control\" type=\"text\" name=\"telephone\" id=\"capital_bursatil\" onChange={this.handleChange} value={form?form.telephone: ''}/>\n            <br />\n            <label htmlFor=\"capital_bursatil\">Address</label>\n            <input className=\"form-control\" type=\"text\" name=\"address\" id=\"capital_bursatil\" onChange={this.handleChange} value={form?form.address: ''}/>                  \n            </div>\n          </ModalBody>\n\n          <ModalFooter>\n            {this.state.tipoModal=='insertar'?\n            <button className=\"btn btn-success\" onClick={()=>this.postRequest()}>\n              Add\n            </button>: <button className=\"btn btn-primary\" onClick={()=>this.patchRequest()}>\n              Update\n            </button>\n            }\n            <button className=\"btn btn-danger\" onClick={()=>this.modalInsert()}>Cancel</button>\n          </ModalFooter>\n        </Modal>\n\n\n        <Modal isOpen={this.state.modalDelete}>\n          <ModalBody>\n            Are you sure you want to delete contact {form && form.name}?\n          </ModalBody>\n          <ModalFooter>\n            <button className=\"btn btn-danger\" onClick={()=>this.deleteRequest()}>Yes</button>\n            <button className=\"btn btn-secundary\" onClick={()=>this.setState({modalDelete: false})}>No</button>\n          </ModalFooter>\n        </Modal>\n      </div>\n\n\n\n    );\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}