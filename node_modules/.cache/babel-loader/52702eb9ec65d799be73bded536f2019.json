{"ast":null,"code":"var _jsxFileName = \"/Users/nelson/Desktop/test react/crudapirestsencillo/src/App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\nconst url = \"https://api.airtable.com/v0/appOg91JwIs4SjRSR/Phonebook?api_key=keyE2G3crULpLFifV\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: [],\n      modalInsertar: false,\n      modalEliminar: false,\n      form: {\n        id: '',\n        fields: {\n          id: '',\n          name: '',\n          email: '',\n          telephone: '',\n          address: ''\n        }\n      }\n    };\n\n    this.peticionGet = () => {\n      axios.get(url).then(response => {\n        this.setState({\n          data: response.data.records\n        });\n        console.log(response.data.records);\n      }).catch(error => {\n        console.log(error.message);\n      });\n    };\n\n    this.peticionPost = async () => {\n      delete this.state.form.id;\n      let data = {\n        fields: {\n          name: 'Azu'\n        }\n      };\n      await axios.post(url, this.state.form).then(response => {\n        this.modalInsertar();\n        this.peticionGet();\n      }).catch(error => {\n        console.log(error.message);\n      });\n    };\n\n    this.peticionPut = () => {\n      axios.put(url + this.state.form.id, this.state.form).then(response => {\n        this.modalInsertar();\n        this.peticionGet();\n      });\n    };\n\n    this.peticionDelete = () => {\n      axios.delete(url + this.state.form.id).then(response => {\n        this.setState({\n          modalEliminar: false\n        });\n        this.peticionGet();\n      });\n    };\n\n    this.modalInsertar = () => {\n      this.setState({\n        modalInsertar: !this.state.modalInsertar\n      });\n    };\n\n    this.seleccionarEmpresa = empresa => {\n      this.setState({\n        tipoModal: 'actualizar',\n        form: {\n          id: empresa.id,\n          fields: {\n            name: empresa.name,\n            email: empresa.email,\n            telephone: empresa.telephone,\n            address: empresa.address\n          }\n        }\n      });\n    };\n\n    this.handleChange = async e => {\n      e.persist();\n      await this.setState({\n        form: {\n          fields: { ...this.state.form,\n            [e.target.name]: e.target.value\n          }\n        }\n      }); //console.log(this.state.form);\n    };\n  }\n\n  componentDidMount() {\n    this.peticionGet();\n  }\n\n  render() {\n    const {\n      form\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: () => {\n        this.setState({\n          form: null,\n          tipoModal: 'insertar'\n        });\n        this.modalInsertar();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 3\n      }\n    }, \"Agregar Empresa\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }\n    }, \"Phone\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }, \"Acciones\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    }, this.state.data.map(empresa => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }\n      }, empresa.fields.name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }\n      }, empresa.fields.email), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }\n      }, empresa.fields.telephone), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }\n      }, empresa.fields.address), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: () => {\n          this.seleccionarEmpresa(empresa);\n          this.modalInsertar();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faEdit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 124\n        }\n      })), \"   \", /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-danger\",\n        onClick: () => {\n          this.seleccionarEmpresa(empresa);\n          this.setState({\n            modalEliminar: true\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faTrashAlt,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 139\n        }\n      }))));\n    }))), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.modalInsertar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      style: {\n        display: 'block'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        float: 'right'\n      },\n      onClick: () => this.modalInsertar(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }, \"x\")), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"nombre\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      name: \"name\",\n      id: \"nombre\",\n      onChange: this.handleChange,\n      value: form ? form.fields.name : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"nombre\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      name: \"email\",\n      id: \"pais\",\n      onChange: this.handleChange,\n      value: form ? form.fields.email : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"capital_bursatil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }\n    }, \"Phone\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      name: \"telephone\",\n      id: \"capital_bursatil\",\n      onChange: this.handleChange,\n      value: form ? form.fields.telephone : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"capital_bursatil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }\n    }, \"Address\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      name: \"address\",\n      id: \"capital_bursatil\",\n      onChange: this.handleChange,\n      value: form ? form.fields.address : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(ModalFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }, this.state.tipoModal == 'insertar' ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: () => this.peticionPost(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 21\n      }\n    }, \"Insertar\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => this.peticionPut(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 30\n      }\n    }, \"Actualizar\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => this.modalInsertar(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }\n    }, \"Cancelar\"))), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.modalEliminar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 13\n      }\n    }, \"Est\\xE1s seguro que deseas eliminar a la empresa \", form && form.nombre), /*#__PURE__*/React.createElement(ModalFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => this.peticionDelete(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 15\n      }\n    }, \"S\\xED\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-secundary\",\n      onClick: () => this.setState({\n        modalEliminar: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 15\n      }\n    }, \"No\"))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/nelson/Desktop/test react/crudapirestsencillo/src/App.js"],"names":["React","Component","axios","FontAwesomeIcon","faEdit","faTrashAlt","Modal","ModalBody","ModalFooter","ModalHeader","url","App","state","data","modalInsertar","modalEliminar","form","id","fields","name","email","telephone","address","peticionGet","get","then","response","setState","records","console","log","catch","error","message","peticionPost","post","peticionPut","put","peticionDelete","delete","seleccionarEmpresa","empresa","tipoModal","handleChange","e","persist","target","value","componentDidMount","render","map","display","float","nombre"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport axios from \"axios\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\n\nconst url=\"https://api.airtable.com/v0/appOg91JwIs4SjRSR/Phonebook?api_key=keyE2G3crULpLFifV\";\n\nclass App extends Component {\nstate={\n  data:[],\n  modalInsertar: false,\n  modalEliminar: false,\n  form:{\n    id: '',\n    fields:{\n      id: '',\n      name: '',\n      email: '',\n      telephone: '',\n      address: ''\n    }\n    \n  }\n}\n\npeticionGet=()=>{\naxios.get(url).then(response=>{\n  this.setState({data: response.data.records});\n  console.log(response.data.records);\n}).catch(error=>{\n  console.log(error.message);\n})\n}\n\npeticionPost=async()=>{\n  delete this.state.form.id;\n  let data = {\n    fields: {\n    name:'Azu',\n    }};\n await axios.post(url,this.state.form).then(response=>{\n    this.modalInsertar();\n    this.peticionGet();\n  }).catch(error=>{\n    console.log(error.message);\n  })\n}\n\npeticionPut=()=>{\n  axios.put(url+this.state.form.id, this.state.form).then(response=>{\n    this.modalInsertar();\n    this.peticionGet();\n  })\n}\n\npeticionDelete=()=>{\n  axios.delete(url+this.state.form.id).then(response=>{\n    this.setState({modalEliminar: false});\n    this.peticionGet();\n  })\n}\n\nmodalInsertar=()=>{\n  this.setState({modalInsertar: !this.state.modalInsertar});\n}\n\nseleccionarEmpresa=(empresa)=>{\n  this.setState({\n    tipoModal: 'actualizar',\n    form: {\n      id: empresa.id,\n      fields:{\n        name: empresa.name,\n        email: empresa.email,\n        telephone: empresa.telephone,\n        address: empresa.address\n      }\n      \n    }\n  })\n}\n\nhandleChange=async e=>{\ne.persist();\nawait this.setState({\n  form:{\n    \n    fields:{\n      ...this.state.form,\n      [e.target.name]: e.target.value\n    }\n    \n  }\n});\n//console.log(this.state.form);\n}\n\n  componentDidMount() {\n    this.peticionGet();\n  }\n  \n\n  render(){\n    const {form}=this.state;\n  return (\n    <div className=\"App\">\n    <br /><br /><br />\n  <button className=\"btn btn-success\" onClick={()=>{this.setState({form: null, tipoModal: 'insertar'}); this.modalInsertar()}}>Agregar Empresa</button>\n  <br /><br />\n    <table className=\"table \">\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Email</th>\n          <th>Phone</th>\n          <th>Address</th>\n          <th>Acciones</th>\n        </tr>\n      </thead>\n      <tbody>\n        {this.state.data.map(empresa=>{\n          return(\n            <tr>\n          <td>{empresa.fields.name}</td>\n          <td>{empresa.fields.email}</td>\n          <td>{empresa.fields.telephone}</td>\n          <td>{empresa.fields.address}</td>\n          <td>\n                <button className=\"btn btn-primary\" onClick={()=>{this.seleccionarEmpresa(empresa); this.modalInsertar()}}><FontAwesomeIcon icon={faEdit}/></button>\n                {\"   \"}\n                <button className=\"btn btn-danger\" onClick={()=>{this.seleccionarEmpresa(empresa); this.setState({modalEliminar: true})}}><FontAwesomeIcon icon={faTrashAlt}/></button>\n                </td>\n          </tr>\n          )\n        })}\n      </tbody>\n    </table>\n\n\n\n    <Modal isOpen={this.state.modalInsertar}>\n                <ModalHeader style={{display: 'block'}}>\n                  <span style={{float: 'right'}} onClick={()=>this.modalInsertar()}>x</span>\n                </ModalHeader>\n                <ModalBody>\n                  <div className=\"form-group\">\n                    \n                    <br />\n                    <label htmlFor=\"nombre\">Name</label>\n                    <input className=\"form-control\" type=\"text\" name=\"name\" id=\"nombre\" onChange={this.handleChange} value={form?form.fields.name: ''}/>\n                    <br />\n                    <label htmlFor=\"nombre\">Email</label>\n                    <input className=\"form-control\" type=\"text\" name=\"email\" id=\"pais\" onChange={this.handleChange} value={form?form.fields.email: ''}/>\n                    <br />\n                    <label htmlFor=\"capital_bursatil\">Phone</label>\n                    <input className=\"form-control\" type=\"text\" name=\"telephone\" id=\"capital_bursatil\" onChange={this.handleChange} value={form?form.fields.telephone: ''}/>\n                    <br />\n                    <label htmlFor=\"capital_bursatil\">Address</label>\n                    <input className=\"form-control\" type=\"text\" name=\"address\" id=\"capital_bursatil\" onChange={this.handleChange} value={form?form.fields.address: ''}/>                  \n                  </div>\n                </ModalBody>\n\n                <ModalFooter>\n                  {this.state.tipoModal=='insertar'?\n                    <button className=\"btn btn-success\" onClick={()=>this.peticionPost()}>\n                    Insertar\n                  </button>: <button className=\"btn btn-primary\" onClick={()=>this.peticionPut()}>\n                    Actualizar\n                  </button>\n  }\n                    <button className=\"btn btn-danger\" onClick={()=>this.modalInsertar()}>Cancelar</button>\n                </ModalFooter>\n          </Modal>\n\n\n          <Modal isOpen={this.state.modalEliminar}>\n            <ModalBody>\n               Estás seguro que deseas eliminar a la empresa {form && form.nombre}\n            </ModalBody>\n            <ModalFooter>\n              <button className=\"btn btn-danger\" onClick={()=>this.peticionDelete()}>Sí</button>\n              <button className=\"btn btn-secundary\" onClick={()=>this.setState({modalEliminar: false})}>No</button>\n            </ModalFooter>\n          </Modal>\n  </div>\n\n\n\n  );\n}\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}